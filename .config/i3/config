#
# A customized config for i3-gaps window manager
# Based on default i3wm config
# Modified by Lasha Kanteladze (https://github.com/dakyskye)
#

# modifier key (Mod4 = Super (Win))
set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# general i3(gaps) config
for_window [class="^.*"] border pixel 2
gaps inner 7
gaps outer 0
smart_gaps inverse_outer
smart_borders no_gaps
hide_edge_borders none

# i3 colours
set $cl-border           #A77AC4
set $cl-text             #fefefe
set $cl-inactive-border  #7197E7
set $cl-inactive-text    #cfcfcf
set $cl-urgent-border    #ff008f
set $cl-indicator        #A77AC4
set $cl-background       #292d3e

# colorclass             # border             # background             # text             # indicator
client.focused           $cl-border           $cl-border               $cl-text           $cl-indicator
client.unfocused         $cl-inactive-border  $cl-inactive-border      $cl-inactive-text  $cl-indicator
client.focused_inactive  $cl-inactive-border  $cl-inactive-border      $cl-inactive-text  $cl-indicator
client.urgent            $cl-urgent-border    $cl-urgent-border        $cl-text           $cl-indicator
client.background        $cl-background

# i3 modes
mode "resize" {
	bindsym h resize shrink width 10 px or 10 ppt
	bindsym j resize grow height 10 px or 10 ppt
	bindsym k resize shrink height 10 px or 10 ppt
	bindsym l resize grow width 10 px or 10 ppt

	bindsym Escape mode "default"
}

mode "l(ock), r(eboot), s(uspend), h(ibernate), p(oweroff)" {
	bindsym l exec --no-startup-id blurlock, mode "default"
	bindsym r exec --no-startup-id systemctl reboot, mode "default"
	bindsym s exec --no-startup-id systemctl suspend, mode "default"
	bindsym h exec --no-startup-id systemctl hibernate, mode "default"
	bindsym p exec --no-startup-id systemctl poweroff, mode "default"

	bindsym Escape mode "default"
}

mode "d(ay), n(ight)" {
	bindsym d exec --no-startup-id redshift -P -O 6500, mode "default"
	bindsym n exec --no-startup-id redshift -P -O 4500, mode "default"

	bindsym Escape mode "default"
}

# open apps in specific workspace
assign [title="Mozilla Firefox"] "1"
assign [title="Google Chrome"] "1"
assign [title="Brave"] "1"
assign [title="Discord"] "2"
assign [title="Telegram"] "3"
for_window [class="Spotify"] move to workspace "4"
assign [title="OBS"] "6"

# open apps in specific mode
for_window [class="Termite"] floating enable

# sizes for certain windows
for_window [class="Termite"] resize grow width 90 px or  ppt
for_window [class="Termite"] resize grow height 90 px or 90 ppt

# autostart apps
exec --no-startup-id compton -cC
exec --no-startup-id flameshot
exec --no-startup-id firefox
exec --no-startup-id discord
exec --no-startup-id telegram-desktop

# set background
exec_always --no-startup-id feh --bg-scale $HOME/Images/wallpaper.jpg

# polybar
exec_always --no-startup-id $HOME/.config/polybar/launch.sh i3

# sxhkd
exec_always --no-startup-id "pkill sxhkd; sxhkd & sxhkd -c $HOME/.config/sxhkd/i3 -t 1"

